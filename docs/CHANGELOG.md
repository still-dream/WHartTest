# 版本说明

## v1.4.0

### 版本概述

v1.4.0 版本重点增强了 AI 智能交互能力和自动化测试生态。新版本引入了 agent-browser 工具，赋予了 AI 更强大的浏览器操作能力；新增了 AI 智能安装助手，大幅简化了部署流程；强化了 LangGraph 代理接口，优化了前端交互体验。同时，在项目管理、Dashboard 展示及系统文档方面也进行了全方位升级，进一步提升了平台的易用性和稳定性。

### 新增功能

#### AI 智能安装助手
- 新增 `ai_install.sh` 智能安装脚本，支持 AI 流式响应与命令交互
- 支持命令拒绝时的用户反馈机制
- 优化系统提示词，提升安装引导体验
- 新增 Docker 镜像加速源推荐列表，优化国内下载体验

#### Skills 生态扩展
- 集成 `agent-browser` 工具，支持更强大的浏览器自动化操作
- 新增 `wharttest_skills` 工具集，支持测试用例管理、项目查询及截图上传
- 新增 `playwright-skill` 工具，提供专业的 Playwright 自动化测试能力
- 适配标题生成模式知识库参数，并增加 Prompt 模块 ID 支持

#### LangGraph 与 Agent 增强
- 新增 LLM 模型列表获取代理接口，优化前端模型选择交互
- 支持需求文档多模态交互（如图片智能分析），增强 Agent 鲁棒性
- 优化 API 响应类型定义与错误格式

#### 需求与用例管理
- 实现需求评审进度实时追踪，新增需求逻辑分析维度
- 支持 H4-H6 标题拆分及旧版 Word 文档 (.doc) 解析
- 新增自定义 Excel 模版导入导出功能
- 优化用例详情导航与审核状态管理功能

### 优化与改进

#### 仪表盘 (Dashboard)
- 调整首页资源统计显示与页面布局
- 将执行统计汇总周期由 30 天调整为 7 天

#### 系统配置与依赖
- 新增 pandas 与 xlrd 依赖以支持 Excel 解析
- 优化构建配置，修复初始化脚本与登录路由
- 新增 AI 接口相关环境变量配置

#### 文档体系
- 新增系统操作手册，详细说明运行环境与 Skills 资源
- 更新 API 基础地址以适配容器环境

### 修复

- 修复添加用例工具方法传参默认值及接口返回信息
- 修复需求管理文档详情切换项目监听事件
- 修复自动化脚本项目权限校验及列表刷新逻辑
- 修复部分文档内容及其他已知 Bug

---

## v1.3.0

### 版本概述

v1.3.0 是一个重大功能更新版本，新增了 AI 智能图表生成、Playwright 自动化脚本管理等核心功能，同时对底层架构进行了重要升级。

### 新增功能

#### Playwright 自动化脚本管理
- 新增自动化脚本管理模块，支持 AI 智能生成 Playwright 测试脚本
- 集成 Monaco Editor 代码编辑器，WebSocket 实时执行日志输出
- 测试套件支持同时管理测试用例和自动化脚本

#### AI 智能图表生成
- 集成 Draw.io 自托管服务，支持 AI 生成流程图、架构图等

#### Agent Loop 可视化与 Token 管理
- 执行步骤可视化显示，增强调试体验
- 新增 Token 使用量指示器，支持上下文限制配置

#### 项目管理
- 新增项目管理视图
- 测试用例支持模块过滤筛选

### 架构升级

#### 向量数据库迁移
- 从 ChromaDB 迁移到 Qdrant，提升性能和稳定性

#### 数据库多引擎支持
- 同时支持 PostgreSQL 和 SQLite

#### LLM 配置优化
- 统一使用 OpenAI 兼容格式
- 新增模型连接测试功能
- 增加重试机制和超时设置

### 体验优化

- 用户消息时间显示、聊天消息引用、自动滚动到最新消息
- 知识库改为全局配置模式，优化 Word 文档嵌套表格提取
- Docker 镜像使用国内源加速，优化部署体验

### 升级说明

1. 向量数据库迁移到 Qdrant，升级后需重新导入知识库文档
2. 新增 Qdrant 和 Draw.io 服务，请使用最新的 `docker-compose.yml`

---

## v1.2.0

### 版本概述

v1.2.0 新增批量测试执行、大脑模式等高级功能。

### 新增功能

#### 批量测试执行
- 基于 Celery 实现批量异步测试执行
- 支持拖拽排序测试步骤
- 批量删除聊天会话和截图

#### 大脑模式
- 支持思维过程展示和折叠
- 工具名称和思考过程标记

#### 聊天增强
- 聊天消息支持图像输入和显示
- 聊天历史记录自动刷新
- 消息引用和自动滚动

#### 项目凭据管理
- 支持管理项目的系统访问信息
- 系统提示词中注入凭据信息

#### 需求评审
- 实现异步需求评审处理
- 专项报告视图

### 架构优化

- GitHub Actions 自动构建 Docker 镜像
- 使用 supervisord 管理多进程
- 会话级 MCP 客户端缓存
- 分布式任务队列基础设施

---

## v1.1.0

### 版本概述

v1.1.0 重点优化了嵌入模型架构，从内置本地模型改为 API 调用模式，提升了灵活性和部署便捷性。

### 重要变更

#### 嵌入模型架构升级
- 弃用本地模型依赖，改用 API 调用嵌入模型
- 支持自定义嵌入服务 API 配置
- 新增模型连接测试功能

#### LLM 配置增强
- 模型名称自动完成输入框
- LLM 配置切换功能
- 默认 API Key 配置，开箱即用

### 功能优化

- 知识库信号处理器，确保数据库与 ChromaDB 一致性
- Word 文档嵌套表格提取（支持3层）
- 测试用例表单优化，支持只发送变更字段
- PDF 内容提取改用 pypdf 库

### 部署优化

- Docker 镜像使用 DaoCloud 源加速
- 优化 docker-compose 配置
- 完善部署文档

---

## v1.0.0

### 版本概述

v1.0.0 是项目的首个开源版本，建立了 AI 驱动测试自动化平台的基础架构。

### 核心功能

- AI 智能测试用例生成
- 知识库管理与文档理解
- MCP 工具调用集成
- 项目管理与需求管理
- 测试用例管理
- LangGraph 对话编排
- 多嵌入服务支持（OpenAI、Azure OpenAI、Ollama）
